"use strict";(()=>{var e={};e.id=375,e.ids=[375],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},2254:e=>{e.exports=require("node:buffer")},6005:e=>{e.exports=require("node:crypto")},7261:e=>{e.exports=require("node:util")},5694:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>P,patchFetch:()=>f,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>h});var s={};t.r(s),t.d(s,{GET:()=>d,runtime:()=>u});var o=t(9303),n=t(8716),a=t(670),i=t(7070),p=t(1814);let u="nodejs";async function d(e){let r=new URL(e.url),t=r.searchParams.get("shop")||"",s=r.searchParams.get("access_token")||"";if(!t||!s)return i.NextResponse.json({error:"Falta ?shop y/o ?access_token"},{status:400});try{let e=(0,p.a8)(t,s),r=await e.get({path:"products",query:{limit:5}});return i.NextResponse.json(r,{headers:{"Cache-Control":"no-store"}})}catch(e){return i.NextResponse.json({error:"Admin API failed",details:String(e)},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/shopify/admin/products/route",pathname:"/api/shopify/admin/products",filename:"route",bundlePath:"app/api/shopify/admin/products/route"},resolvedPagePath:"/Users/admin/Documents/ODDS/landing/lading-odds/app/api/shopify/admin/products/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:h,serverHooks:m}=c,P="/api/shopify/admin/products/route";function f(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:h})}},1814:(e,r,t)=>{t.d(r,{a8:()=>u,hG:()=>p}),t(1602);var s=t(3116);let o=(process.env.APP_URL||"").replace(/\/+$/,""),n=process.env.SHOPIFY_API_KEY||"",a=(process.env.SHOPIFY_API_SECRET||"").replace(/\r?\n/g,"").trim(),i=(process.env.SHOPIFY_SCOPES||"").split(",").map(e=>e.trim()).filter(Boolean);if(!o||!n||!a||0===i.length)throw Error("Faltan envs: APP_URL / SHOPIFY_API_KEY / SHOPIFY_API_SECRET / SHOPIFY_SCOPES");let p=(0,s.OP)({apiKey:n,apiSecretKey:a,scopes:i,apiVersion:s.wr,hostName:new URL(o).host,hostScheme:new URL(o).protocol.replace(":",""),isEmbeddedApp:!1});function u(e,r){return new p.clients.Rest({session:{id:`${e}_offline`,shop:e,state:"unused",isOnline:!1,scope:"",accessToken:r,expires:void 0}})}}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,972,129],()=>t(5694));module.exports=s})();