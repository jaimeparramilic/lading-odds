"use strict";(()=>{var e={};e.id=711,e.ids=[711],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},3302:(e,o,t)=>{t.r(o),t.d(o,{originalPathname:()=>x,patchFetch:()=>y,requestAsyncStorage:()=>f,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>g});var r={};t.r(r),t.d(r,{POST:()=>l,runtime:()=>d});var s=t(9303),a=t(8716),i=t(670),n=t(7070),p=t(6113),u=t.n(p);let d="nodejs",h=(process.env.SHOPIFY_API_SECRET||"").replace(/\r?\n/g,"").trim();async function l(e){let o=await e.text(),t=e.headers.get("x-shopify-hmac-sha256")||"",r=e.headers.get("x-shopify-topic")||"",s=e.headers.get("x-shopify-shop-domain")||"",a=u().createHmac("sha256",h).update(o,"utf8").digest(),i=Buffer.from(t,"base64");if(!(a.length===i.length&&u().timingSafeEqual(a,i)))return n.NextResponse.json({ok:!1,error:"HMAC inv\xe1lido"},{status:401});try{JSON.parse(o)}catch{}return"app/uninstalled"===r.toLowerCase()?console.log("[webhook] app/uninstalled",s):console.log("[webhook] topic",r,"shop",s),n.NextResponse.json({ok:!0})}let c=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/shopify/webhooks/route",pathname:"/api/shopify/webhooks",filename:"route",bundlePath:"app/api/shopify/webhooks/route"},resolvedPagePath:"/Users/admin/Documents/ODDS/landing/lading-odds/app/api/shopify/webhooks/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:f,staticGenerationAsyncStorage:g,serverHooks:m}=c,x="/api/shopify/webhooks/route";function y(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:g})}}};var o=require("../../../../webpack-runtime.js");o.C(e);var t=e=>o(o.s=e),r=o.X(0,[948,972],()=>t(3302));module.exports=r})();